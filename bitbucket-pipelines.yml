image: node:carbon

pipelines:
  branches:
    master:
      - step:
          caches:
            - node
          script:
            - ssh -i id_rsa taralite@35.198.223.212
            - ls
            - echo "Successful Deploy!"
# image: node:carbon

# pipelines:
#   branches:
#     development:
#       - step:
#           caches:
#             - node
#           script:
#             # Clone web repository
#             - git clone git@bitbucket.org:acuralabs-ai/acuralabs-dashboard.git
#             - cd acuralabs-dashboard
#             - git checkout development
#             # Installing npm packages
#             - npm install
#             # Run npm build
#             - CI=false npm run build:dev
#             # Deploy to remote server
#             - cd dist
#             - ssh developer@149.129.226.158 "rm -rf /home/developer/acuralabs-ui/acuralabs-dashboard-staging/*"
#             - tar -zc ./ | ssh developer@149.129.226.158 "tar -zx -C /home/developer/acuralabs-ui/acuralabs-dashboard-staging"
#   tags:
#     prod-v*:
#       - step:
#           caches:
#             - node
#           script:
#             # Clone web repository
#             - git clone git@bitbucket.org:acuralabs-ai/acuralabs-dashboard.git
#             - cd acuralabs-dashboard
#             # Installing npm packages
#             - npm install
#             # Run npm build
#             - CI=false npm run build:prod
#             # Deploy to remote server
#             - cd dist
#             - ssh developer@149.129.226.158 "rm -rf /home/developer/acuralabs-ui/acuralabs-dashboard/*"
#             - tar -zc ./ | ssh developer@149.129.226.158 "tar -zx -C /home/developer/acuralabs-ui/acuralabs-dashboard"
#     staging-v*:
#       - step:
#           caches:
#             - node
#           script:
#             # Clone web repository
#             - git clone git@bitbucket.org:acuralabs-ai/acuralabs-dashboard.git
#             - cd acuralabs-dashboard
#             # Chekcout to development branch
#             - git checkout development
#             # Installing npm packages
#             - npm install
#             # Run npm build
#             - CI=false npm run build:dev
#             # Deploy to remote server
#             - cd dist
#             - ssh developer@149.129.226.158 "rm -rf /home/developer/acuralabs-ui/acuralabs-dashboard/*"
#             - tar -zc ./ | ssh developer@149.129.226.158 "tar -zx -C /home/developer/acuralabs-ui/acuralabs-dashboard"
